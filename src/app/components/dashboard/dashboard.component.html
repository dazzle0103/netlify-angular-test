<h1>Dashboard</h1>
<h2>USER$ - TESTING</h2>
<div *ngIf="isLoggedIn$; else RegisterTemplate">
  <h1>{{ user$?.user_metadata?.full_name }}</h1>
  <mat-list>
    <mat-list-item>
      <span matListItemTitle>Token (internal use):</span>
      <span matListItemLine>
        {{ shortToken(user$?.token?.access_token) }}
      </span>
    </mat-list-item>
    <mat-list-item
      ><span matListItemTitle>Email:</span>
      <span matListItemLine>
        {{ user$?.email }}
      </span></mat-list-item
    >
    <mat-list-item
      ><span matListItemTitle>ID (internal use):</span>
      <span matListItemLine>
        {{ user$?.id }}
      </span></mat-list-item
    >
  </mat-list>
  <button mat-raised-button color="primary" (click)="logout()">LOGOUT</button>
</div>

<ng-template #RegisterTemplate>
  <h2>Please REGISTER / LOG IN</h2>
</ng-template>
<br />
<button (click)="refreshUser()" color="accent" mat-raised-button>
  Refresh User
</button>

<hr class="border-black border-4" />
<h2>IsLoggedIn$ - TESTING</h2>
<div *ngIf="isLoggedIn$">LOGGED IN</div>
<div *ngIf="!isLoggedIn$">LOGGED OUT</div>

<button mat-raised-button color="primary" (click)="login()">LOGIn</button>
